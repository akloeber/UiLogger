var UiLogger=function(){var e=console,t={DEFAULT:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},n={messages:[]};console=n;var r=function(r){var i=n.messageDecorator(r);switch(r.level){case t.DEBUG:e.debug(i);break;case t.INFO:e.info(i);break;case t.WARN:e.warn(i);break;case t.ERROR:e.error(i);break;default:e.log(i)}},i=function(e){var r=n.messageDecorator(e),i=document.createElement("li"),s=document.createTextNode(r);i.appendChild(s);switch(e.level){case t.DEBUG:i.className="debug";break;case t.WARN:i.className="warn";break;case t.ERROR:i.className="error";break;default:i.className="info"}var o=document.getElementById("logPanel");o.appendChild(i);o.scrollTop=o.scrollHeight},s=function(){while(logPanel.firstChild)logPanel.removeChild(logPanel.firstChild);for(var e=0;e<n.messages.length;e++)i(n.messages[e])},o=function(e){e.timestamp=new Date;n.messages.push(e);r(e);n.isShowingLogPanel()&&i(e)};n.log=function(e,n){var r;n?r=n:r=t.DEFAULT;o({data:e,level:r})};n.debug=function(e){o({data:e,level:t.DEBUG})};n.info=function(e){o({data:e,level:t.INFO})};n.warn=function(e){o({data:e,level:t.WARN})};n.error=function(e){o({data:e,level:t.ERROR})};n.showLogPanel=function(){var e=function(){if(!n.isShowingLogPanel()){var e=document.createElement("ol");e.id="logPanel";e.className="logPanel";document.body.appendChild(e);s()}};document.body?e():document.addEventListener("DOMContentLoaded",e,!1)};n.hideLogPanel=function(){if(n.isShowingLogPanel()){var e=document.getElementById("logPanel");document.body.removeChild(e)}};n.isShowingLogPanel=function(){return document.getElementById("logPanel")!==null};n.clear=function(){n.messages=[];s()};n.messageDecorator=function(){var e=function(e,t){return(1e15+e+"").slice(-t)};return function(t){var n=t.timestamp,r=n.getHours(),i=e(n.getMinutes(),2),s=e(n.getSeconds(),2),o=e(n.getMilliseconds(),3),u=(new Array(r,i,s)).join(":"),a;typeof t.data=="string"?a=t.data:a=JSON.stringify(t.data);return" ["+u+"."+o+"] "+a}}();n.setMessageDecorator=function(e){n.messageDecorator=e};n.getMessageDecorator=function(){return n.messageDecorator};var u={LogLevel:t,log:n.log,debug:n.debug,info:n.info,warn:n.warn,error:n.error,showLogPanel:n.showLogPanel,hideLogPanel:n.hideLogPanel,isShowingLogPanel:n.isShowingLogPanel,clear:n.clear,getMessageDecorator:n.getMessageDecorator,setMessageDecorator:n.setMessageDecorator};return u}();