var UiLogger=function(){(function(){function t(t){var n=e[t];e[t]=function(){UiLogger[t].apply(UiLogger,arguments);if(n.apply)n.apply(e,arguments);else{var r=Array.prototype.slice.apply(arguments).join(" ");n(r)}}}var e=window.console;if(!e)return;var n=["log","debug","info","warn","error"];for(var r=0;r<n.length;r++)t(n[r])})();var e={DEFAULT:0,DEBUG:1,INFO:2,WARN:3,ERROR:4},t={messages:[]},n=function(n){var r=t.messageDecorator(n),i=document.createElement("li"),s=document.createTextNode(r);i.appendChild(s);switch(n.level){case e.DEBUG:i.className="debug";break;case e.WARN:i.className="warn";break;case e.ERROR:i.className="error";break;default:i.className="info"}var o=document.getElementById("logPanel");o.appendChild(i);o.scrollTop=o.scrollHeight},r=function(){while(logPanel.firstChild)logPanel.removeChild(logPanel.firstChild);for(var e=0;e<t.messages.length;e++)n(t.messages[e])},i=function(e){e.timestamp=new Date;t.messages.push(e);t.isShowingLogPanel()&&n(e)};t.log=function(t,n){var r;n?r=n:r=e.DEFAULT;i({data:t,level:r})};t.debug=function(t){i({data:t,level:e.DEBUG})};t.info=function(t){i({data:t,level:e.INFO})};t.warn=function(t){i({data:t,level:e.WARN})};t.error=function(t){i({data:t,level:e.ERROR})};t.showLogPanel=function(){var e=function(){if(!t.isShowingLogPanel()){var e=document.createElement("ol");e.id="logPanel";e.className="logPanel";document.body.appendChild(e);r()}};document.body?e():document.addEventListener("DOMContentLoaded",e,!1)};t.hideLogPanel=function(){if(t.isShowingLogPanel()){var e=document.getElementById("logPanel");document.body.removeChild(e)}};t.isShowingLogPanel=function(){return document.getElementById("logPanel")!==null};t.clear=function(){t.messages=[];r()};t.messageDecorator=function(){var e=function(e,t){return(1e15+e+"").slice(-t)};return function(t){var n=t.timestamp,r=n.getHours(),i=e(n.getMinutes(),2),s=e(n.getSeconds(),2),o=e(n.getMilliseconds(),3),u=(new Array(r,i,s)).join(":"),a;typeof t.data=="string"?a=t.data:a=JSON.stringify(t.data);return" ["+u+"."+o+"] "+a}}();t.setMessageDecorator=function(e){t.messageDecorator=e};t.getMessageDecorator=function(){return t.messageDecorator};var s={LogLevel:e,log:t.log,debug:t.debug,info:t.info,warn:t.warn,error:t.error,showLogPanel:t.showLogPanel,hideLogPanel:t.hideLogPanel,isShowingLogPanel:t.isShowingLogPanel,clear:t.clear,getMessageDecorator:t.getMessageDecorator,setMessageDecorator:t.setMessageDecorator};return s}();